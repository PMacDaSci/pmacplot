<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PMACPLOT • pmacplot</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="PMACPLOT">
<meta property="og:description" content="pmacplot">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">pmacplot</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">PMACPLOT</a>
    </li>
    <li>
      <a href="../articles/piechart.html">Pie Chart</a>
    </li>
    <li>
      <a href="../articles/streamgraph.html">Stream Graph</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="introduction_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="introduction_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="introduction_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>PMACPLOT</h1>
            
            <h4 class="date">2020-11-19</h4>
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<p>This repo contains the functions of the <code>pmacplot</code> package, which once installed locally, provides helpful functions for creating and exporting graphics made in the style used by Peter Mac researchers (well that’s the aim, it’s just beginning Nov 2020). It is based on the BBC news bbplot package.</p>
<div id="we-need-your-help" class="section level1">
<h1 class="hasAnchor">
<a href="#we-need-your-help" class="anchor"></a>We need your help!</h1>
<p>Would it be good if there was a uniform petermac ‘style’ that people could use if they want?<br>
We could use the <a href="https://github.com/bbc/bbplot/blob/master/R/bbc_style.R">bbc style</a> as a guide to discuss what aspects to use.<br>
Please let us know what you think and/or help us identify what would be good to add to the package in this <a href="https://docs.google.com/document/d/1y3F0Xp91w3SCCALdUrqi8OswdMF8-Ek5_RrYK-9PDbI/edit">Google doc</a></p>
<div id="example-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#example-plots" class="anchor"></a>Example plots</h2>
<p>The figure below shows examples of plots created using the BBC news package (that this package is based on). We’ll replace with examples using this package when we have some. We’ve started adding some example plots from Peter Mac researchers for inspiration. You can find them under <strong>Articles</strong> in the menu at the top of this page and reproduce with the code shown.</p>
<div class="figure">
<img src="../man/figures/bbplot_example_plots.png" alt=""><p class="caption">Example of graphics created using the pmacplot package</p>
</div>
</div>
<div id="installing-pmacplot" class="section level2">
<h2 class="hasAnchor">
<a href="#installing-pmacplot" class="anchor"></a>Installing pmacplot</h2>
<p><code>pmacplot</code> is not on CRAN, so you will have to install it directly from Github using <code>remotes</code>.</p>
<p>If you do not have the <code>remotes</code> package installed, you will have to run the first line in the code below as well.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages('remotes')</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">'PMacDaSci/pmacplot'</span><span class="op">)</span></code></pre></div>
</div>
<div id="using-the-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-functions" class="anchor"></a>Using the functions</h2>
<p>The package has two functions for plots: <code><a href="../reference/petermac_style.html">petermac_style()</a></code> and <code><a href="../reference/finalise_plot.html">finalise_plot()</a></code>.</p>
<p>Detailed examples on how to use the functions included within the <code>pmacplot</code> package to produce graphics will be included at this website. Examples for the BBC News versions can be found in the <a href="https://bbc.github.io/rcookbook/">R cookbook</a>, as well as a more general reference manual for working with <code>ggplot2</code>.</p>
<p>A basic explanation and summary here:</p>
<div id="petermac_style" class="section level3">
<h3 class="hasAnchor">
<a href="#petermac_style" class="anchor"></a><code>petermac_style()</code>
</h3>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/petermac_style.html">petermac_style()</a></code>: has no arguments and is added to the ggplot chain after you have created a plot. What it does is generally makes text size, font and colour, axis lines, axis text and many other standard chart components into Peter Mac style.</li>
</ol>
<p>The function is pretty basic and does not change or adapt based on the type of chart you are making, so in some cases you will need to make additional <code>theme</code> arguments in your ggplot chain if you want to make any additions or changes to the style, for example to add or remove gridlines etc. Also note that colours for lines in the case of a line chart or bars for a bar chart, do not come out of the box from the <code>petermac_style</code> function, but need to be explicitly set in your other standard <code>ggplot</code> chart functions.</p>
<p>Example of how it is used in a standard workflow:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">line</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">line_df</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">lifeExp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
<span class="fu">geom_line</span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#007f7f"</span>, size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
<span class="fu">geom_hline</span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span>, size <span class="op">=</span> <span class="fl">1</span>, colour<span class="op">=</span><span class="st">"#333333"</span><span class="op">)</span> <span class="op">+</span>
<span class="fu"><a href="../reference/petermac_style.html">petermac_style</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="finalise_plot" class="section level3">
<h3 class="hasAnchor">
<a href="#finalise_plot" class="anchor"></a><code>finalise_plot</code>
</h3>
<ol start="2" style="list-style-type: decimal">
<li>
<code>finalise_plot</code>: will save out your plot with the correct guidelines for publication for a Peter Mac graphic. It is made up of functions that will left align your title, subtitle and source and save it to your specified location. The function has six arguments, three of which need to be explicitly set and three that are defaults unless you overwrite them.</li>
</ol>
<p>Here are the function arguments: <code><a href="../reference/finalise_plot.html">finalise_plot(plot_name, source_name, save_filepath, width_pixels, height_pixels)</a></code></p>
<ul>
<li>
<code>plot_name</code>: the variable name that you have called your plot, for example for the chart example above <code>plot_name</code> would be <code>"line"</code><br>
</li>
<li>
<code>source_name</code>: the source text that you want to appear at the bottom left corner of your plot. You will need to type the word <code>"Source:"</code> before it, just the source, so for example <code>source = "Source: ONS"</code> would be the right way to do that.</li>
<li>
<code>save_filepath</code>: the precise filepath that you want your graphic to save to, including the <code>.png</code> extension at the end. This does depend on your working directory and if you are in a specific R project. An example of a relative filepath would be: <code>/charts/line_chart.png</code>.<br>
</li>
<li>
<code>width_pixels</code>: this is set to 640px by default, so only call this argument and specify the width you want your chart to be.</li>
<li>
<code>height_pixels</code>: this is set to 450px by default, so only call this argument and specify the height you want your chart to be.</li>
</ul>
<p>Example of how the <code><a href="../reference/finalise_plot.html">finalise_plot()</a></code> is used in a standard workflow. This function is called once you have created and finalised your chart data, titles and added the <code><a href="../reference/petermac_style.html">petermac_style()</a></code> to it (see above):</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/finalise_plot.html">finalise_plot</a></span><span class="op">(</span>plot_name <span class="op">=</span> <span class="va">my_line_plot</span>,
source <span class="op">=</span> <span class="st">"Source: ONS"</span>,
save_filepath <span class="op">=</span> <span class="st">"filename_that_my_plot_should_be_saved_to-nc.png"</span>,
width_pixels <span class="op">=</span> <span class="fl">640</span>,
height_pixels <span class="op">=</span> <span class="fl">550</span><span class="op">)</span></code></pre></div>
</div>
</div>
</div>
<div id="session-info" class="section level1">
<h1 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h1>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<pre><code>## R version 4.0.3 (2020-10-10)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.1 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
## LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0
## 
## locale:
##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## loaded via a namespace (and not attached):
##  [1] digest_0.6.27     crayon_1.3.4      rprojroot_2.0.2   assertthat_0.2.1 
##  [5] R6_2.5.0          magrittr_2.0.1    evaluate_0.14     stringi_1.5.3    
##  [9] rlang_0.4.8       fs_1.5.0          ragg_0.4.0        rmarkdown_2.5    
## [13] pkgdown_1.6.1     textshaping_0.1.2 desc_1.2.0        tools_4.0.3      
## [17] stringr_1.4.0     yaml_2.2.1        xfun_0.19         compiler_4.0.3   
## [21] systemfonts_0.3.2 memoise_1.1.0     htmltools_0.5.0   knitr_1.30</code></pre>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Maria Doyle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
